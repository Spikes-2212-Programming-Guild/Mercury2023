<!DOCTYPE html>
<html lang="en"><title>gui at the best app ever</title>

<meta name="viewport" content="width=device-width, initial-scale=1">
<body style="background-color:rgb(44, 44, 44); text-align: center;">

<script>
    let TitlE = new URLSearchParams(window.location.search);
    TitlE = TitlE.get('title')
    
    let TitlE2 = document.createElement("h1")
    TitlE2.textContent = TitlE
    TitlE2.style.color = "white"
    document.body.appendChild(TitlE2)
</script>

<!-- <center>
<table>
    <tr>
        <th><h1 style="color: white;">Grid-</h1></th>
        <th><h1 style="color: white;">מיקומים ב</h1></th>
    </tr>
</table>
</center> -->

<script src="Questions.js"></script>
<script src = "grid.js"></script>
<script src="buildLink.js"></script>
<script src="modifyCookies.js"></script>
<script src="pages.js"></script>

<!-- <button onclick="linkolen()">build</button>
<button onclick="createCookie()">Yamy cookie</button> -->

<script>
    let range = new URLSearchParams(window.location.search);
    range = range.get('qs').split('q');
    
    let nextPage = new URLSearchParams(window.location.search);
    nextPage = Number(nextPage.get('index'));
    console.log(nextPage)

    //toast()
    buildHTML(range[1])

    function sendAndCreate(){
        createCookie('Gridlink' + Number(range[1]), fillFromTamble(buildArray(), Number(range[1])))
        // if(getPages().length > nextPage){
        //     window.open(getPages()[nextPage] + '&index=' + (nextPage+1))
        // }
        // window.close()
    }
    
function goforward(){
    sendAndCreate()
    // if(getPages().length > nextPage){
    //     //window.open(getPages()[nextPage] + '&index=' + (nextPage+1))
    //     window.location.href = getPages()[nextPage] + '&index=' + (nextPage+1)
    // }
    //window.close()
    if (getPages().length > nextPage) {
        window.location.href = getPages()[nextPage] + '&index=' + (nextPage+1)
    }
    else{
        window.location.href = 'index.html'
    }
}

function goback(){
    sendAndCreate()
    // if(nextPage > 1){
    //     //window.open(getPages()[nextPage-2] + '&index=' + (nextPage-1))
        
    // }
    if (window.history.index != 0) {
        window.history.back();
    }
    else{
        window.close()
    }
    //window.close()
}
</script>
<!-- &ensp; -->
<!-- <script src="timer.js"></script> -->

<!-- &ensp; -->
<button onclick="goforward()" id="saveButton" style="width: 45%; height: 50px; background-color: rgb(0, 199, 90); border-color: rgb(0, 131, 39); color: rgb(255, 255, 255); font-size: large; margin: 0 auto; display: inline-block;">Next</button>
<button onclick="goback()" id="saveButton" style="width: 45%; height: 50px; background-color: rgb(0, 199, 90); border-color: rgb(0, 131, 39); color: rgb(255, 255, 255); font-size: large; margin: 0 auto; display: inline-block;">Back</button>
</body></html>
